# Unstructured.io PDF Processing and Analysis Suite

This project consists of three main applications that work together to process, analyze, and enrich PDF documents using Unstructured.io and various AI technologies.

## Applications Overview

### 1. PDF Ingestion (01_ingest_pdf.py)

This script uses Unstructured.io's UnstructuredLoader to process and analyze PDF documents.

Key features:
- Loads and parses multiple PDF documents
- Extracts text and metadata from PDFs
- Analyzes and categorizes document elements (e.g., text, titles, images, tables)
- Optionally visualizes the document structure
- Displays progress across files and pages

Input: PDF files in the specified input directory
Output: JSON files containing structured data from the PDFs, saved in the output directory

### 2. Image Summarization (02_image_summarizer.py)

This script enriches the JSON files generated by the PDF ingestion step by adding AI-generated summaries for images.

Key features:
- Selects a JSON file to process
- Uses OpenAI's GPT-4 Vision model to generate summaries for images
- Adds summaries to the JSON data
- Provides an option to override existing summaries

Input: JSON files generated by 01_ingest_pdf.py
Output: Enriched JSON files with image summaries

### 3. Markdown Conversion (03_output_markdown.py)

This script converts the enriched JSON files into human-readable Markdown format.

Key features:
- Selects a JSON file to convert
- Transforms structured JSON data into formatted Markdown
- Includes image summaries and base64-encoded images in the Markdown output

Input: Enriched JSON files from 02_image_summarizer.py
Output: Markdown files containing the formatted content of the PDFs

## Prerequisites

- Python 3.7 or higher
- pip (Python package installer)

## Installation

1. Clone the repository:
   ```
   git clone https://github.com/tirandagan/PDF_unstructured.git
   cd PDF_unstructured
   ```

2. Create a virtual environment (optional but recommended):
   ```
   python -m venv venv
   source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
   ```

3. Install the required packages:
   ```
   pip install -r requirements.txt
   ```

4. Set up the `config.ini` file:
   - Copy `config.ini.example` to `config.ini`
   - Fill in the necessary API keys and directory paths

## Usage

### 1. PDF Ingestion (01_ingest_pdf.py)

1. Place PDF files in the input directory specified in `config.ini`
2. Run the script:
   ```
   python 01_ingest_pdf.py
   ```
3. The script will process all PDF files and generate JSON output files in the specified output directory

### 2. Image Summarization (02_image_summarizer.py)

1. Ensure you have run 01_ingest_pdf.py and have JSON files in the output directory
2. Run the script:
   ```
   python 02_image_summarizer.py
   ```
3. Select the JSON file you want to enrich from the interactive prompt
4. The script will process all images in the selected JSON file and add summaries
5. To override existing summaries, use the `--override` flag:
   ```
   python 02_image_summarizer.py --override
   ```

### 3. Markdown Conversion (03_output_markdown.py)

1. Ensure you have run 02_image_summarizer.py and have enriched JSON files
2. Run the script:
   ```
   python 03_output_markdown.py
   ```
3. Select the JSON file you want to convert from the interactive prompt
4. The script will generate a Markdown file with the same name as the input JSON file

## Data Flow

1. PDF files → 01_ingest_pdf.py → JSON files with structured data
2. JSON files → 02_image_summarizer.py → Enriched JSON files with image summaries
3. Enriched JSON files → 03_output_markdown.py → Formatted Markdown files

## Configuration

The `config.ini` file contains important settings:

- API keys for OpenAI
- Input and output directory paths
- Other processing options

Ensure this file is properly configured before running the scripts.

## License

Copyright © 2024 Prof. Tiran Dagan, FDU University. All rights reserved.
